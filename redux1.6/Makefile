#Directory for the ALDES translator and the SAC-2 system:
ALDESPATH = /usr/local/caldes3.7
#Main directory of the ReDuX system:
RDXPATH = /usr/local/redux1.6
#Default library for SAC-2 low-level arithmetic routines:
# default
DPQR = dpqr-slow
# for sun4c architectures (ELCs, Sparc2)
DPQR = dpqr-sun4
# for sun4m architectures (Sparc10)
#DPQR = dpqr-sun10
# for 80486 architectures
#DPQR = dpqr-i486
# For SUN 4 architectures under SunOS
# CLOCKSCALING = 17
# For IBM RS/6000,  PC/Linux and Sun under Solaris 2.x
CLOCKSCALING = 10
# Use a dummy function (if no timing facility is available)
# CLOCKSCALING = 0
# Use old awk
#AWK = /usr/bin/awk
# Use new awk
#AWK = /usr/bin/nawk
# Use GNU awk
AWK = /usr/local/bin/gawk
#Back end (C) compiler:
# GNU C compiler
BE = gcc
# Standard C compiler
#BE = cc
#C preprocessor:
# GNU C preprocessor
#CPP = ccpp -traditional
# Standard C preprocessor
CPP = cpp
#Optimization option for C compiler:
#Reasonable optimization on Sun 3 or Sun 4
OPTIMIZE = -O2
#For Supersparc processors (e.g. Sparc 10)
#OPTIMIZE = -O2 -msupersparc
# For PC with 80486 running Linux:
#OPTIMIZE = -O2 -m486
# no optimization
#OPTIMIZE =
#Name of lex-tool:
#GNU LEX tool
LEX = flex
#Lex library:
#LEXLIB = -ll
#GNU LEX library
LEXLIB = -L/usr/local/gnu/lib/flex -lfl
# Flag indicating if ranlib is needed
# ranlib is needed: SunOS 4
RANLIB_NEEDED = 1
# ranlib is not needed: Solaris, AIX
#RANLIB_NEEDED = 0
#Name of parser generator:
#Standard UNIX yacc
#YACC = yacc
#GNU parser generator
YACC = bison
#Flags for the parser generator:
#For standard UNIX yacc
#YACCFLAGS = -d
#For GNU bison
YACCFLAGS = -d -y
#Linkage option for the C compiler:
#use static linkage for GNU C compiler
BEO = -static
#use static linkage for standard Unix C compiler
#BEO = -Bstatic
#use dynamic linkage
#BEO=#
#Access mode for executables generated by this make file:
FILEPERM = 755

AMODULES = ac acn ax co ev ic ini it rd tc tio to tp uc
CMODULES = io
SHELL = /bin/sh
RDXPROTOPATH = $(RDXPATH)/proto
RDXBINPATH = $(RDXPATH)/bin
RDXMAKEPATH = $(RDXPATH)/mak
RDXITPATH = $(RDXPATH)/src/it/PRESRC
RDXIOPATH = $(RDXPATH)/src/io
RDXDEMOPATH = $(RDXPATH)/demo
RDXOLDDEMOPATH = $(RDXPATH)/olddemo
RDXTOOLPATH = $(RDXPATH)/tool

all: tools libs demo 
tools: $(RDXBINPATH)/ald3.7 \
       $(RDXBINPATH)/aldr \
       $(RDXTOOLPATH)/Blif2rdx/blif2rdx \
       $(RDXTOOLPATH)/Blif2rdx/blif2typ \
       $(RDXTOOLPATH)/Dtcv/cvcoerc \
       $(RDXTOOLPATH)/Dtcv/dtcv \
       $(RDXTOOLPATH)/Dtcv/dtcvdir \
       $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering \
       $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering_old \
       $(RDXTOOLPATH)/Kwic/kwic \
       $(RDXBINPATH)/mhead \
       $(RDXTOOLPATH)/Dtcv/mksrt \
       $(RDXBINPATH)/regrep \
       $(RDXBINPATH)/rglobs \
       $(RDXBINPATH)/rgrep \
       $(RDXBINPATH)/rhead \
       $(RDXBINPATH)/rincl \
       $(RDXBINPATH)/rkwic \
       $(RDXTOOLPATH)/Dtcv/rmcomm \
       $(RDXBINPATH)/start_redux \
       $(RDXBINPATH)/toc \
       $(RDXBINPATH)/typ2rdx \
       $(RDXBINPATH)/typ2rdxdir \
        \
       $(RDXTOOLPATH)/Dtcv/Makefile \
       $(RDXDEMOPATH)/Makefile \
       $(RDXITPATH)/Makefile \
       $(RDXMAKEPATH)/Makefile \
       $(RDXOLDDEMOPATH)/Makefile \
       $(RDXBINPATH)/aglobs \
       $(RDXBINPATH)/asplit \
       $(RDXBINPATH)/headers \
       
	-cd $(RDXTOOLPATH)/Dtcv; make all
libs: tools $(RDXIOPATH)/io.C
	cd $(RDXMAKEPATH); make all
demo: tools libs
	cd $(RDXDEMOPATH); make all
olddemo: tools libs
	cd $(RDXOLDDEMOPATH); make all
mostlyclean:
	-cd $(RDXTOOLPATH)/Dtcv; if [ -f Makefile ]; then make clean; fi
	rm -f $(RDXBINPATH)/ald3.7 \
	      $(RDXBINPATH)/aldr \
	      $(RDXTOOLPATH)/Blif2rdx/blif2rdx \
	      $(RDXTOOLPATH)/Blif2rdx/blif2typ \
	      $(RDXTOOLPATH)/Dtcv/cvcoerc \
	      $(RDXTOOLPATH)/Dtcv/dtcv \
	      $(RDXTOOLPATH)/Dtcv/dtcvdir \
	      $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering \
	      $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering_old \
	      $(RDXTOOLPATH)/Kwic/kwic \
	      $(RDXBINPATH)/mhead \
	      $(RDXTOOLPATH)/Dtcv/mksrt \
	      $(RDXBINPATH)/regrep \
	      $(RDXBINPATH)/rglobs \
	      $(RDXBINPATH)/rgrep \
	      $(RDXBINPATH)/rhead \
	      $(RDXBINPATH)/rincl \
	      $(RDXBINPATH)/rkwic \
	      $(RDXTOOLPATH)/Dtcv/rmcomm \
	      $(RDXBINPATH)/start_redux \
	      $(RDXBINPATH)/toc \
	      $(RDXBINPATH)/typ2rdx \
	      $(RDXBINPATH)/typ2rdxdir \
	       \
	      $(RDXTOOLPATH)/Dtcv/Makefile \
	      $(RDXDEMOPATH)/Makefile \
	      $(RDXITPATH)/Makefile \
	      $(RDXMAKEPATH)/Makefile \
	      $(RDXOLDDEMOPATH)/Makefile \
	      $(RDXBINPATH)/aglobs \
	      $(RDXBINPATH)/asplit \
	      $(RDXBINPATH)/headers \
	      

clean:
	-cd $(RDXMAKEPATH); \
	   if [ -f Makefile ]; then make cleanmak; make clean; fi
	-cd $(RDXDEMOPATH); if [ -f Makefile ]; then make clean; fi
	-cd $(RDXOLDDEMOPATH); if [ -f Makefile ]; then make clean; fi
	rm -f $(RDXIOPATH)/io.C
		-cd $(RDXTOOLPATH)/Dtcv; if [ -f Makefile ]; then make clean; fi
		rm -f $(RDXBINPATH)/ald3.7 \
		      $(RDXBINPATH)/aldr \
		      $(RDXTOOLPATH)/Blif2rdx/blif2rdx \
		      $(RDXTOOLPATH)/Blif2rdx/blif2typ \
		      $(RDXTOOLPATH)/Dtcv/cvcoerc \
		      $(RDXTOOLPATH)/Dtcv/dtcv \
		      $(RDXTOOLPATH)/Dtcv/dtcvdir \
		      $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering \
		      $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering_old \
		      $(RDXTOOLPATH)/Kwic/kwic \
		      $(RDXBINPATH)/mhead \
		      $(RDXTOOLPATH)/Dtcv/mksrt \
		      $(RDXBINPATH)/regrep \
		      $(RDXBINPATH)/rglobs \
		      $(RDXBINPATH)/rgrep \
		      $(RDXBINPATH)/rhead \
		      $(RDXBINPATH)/rincl \
		      $(RDXBINPATH)/rkwic \
		      $(RDXTOOLPATH)/Dtcv/rmcomm \
		      $(RDXBINPATH)/start_redux \
		      $(RDXBINPATH)/toc \
		      $(RDXBINPATH)/typ2rdx \
		      $(RDXBINPATH)/typ2rdxdir \
		       \
		      $(RDXTOOLPATH)/Dtcv/Makefile \
		      $(RDXDEMOPATH)/Makefile \
		      $(RDXITPATH)/Makefile \
		      $(RDXMAKEPATH)/Makefile \
		      $(RDXOLDDEMOPATH)/Makefile \
		      $(RDXBINPATH)/aglobs \
		      $(RDXBINPATH)/asplit \
		      $(RDXBINPATH)/headers \
		      
	

backup:
	for i in $(RDXBINPATH)/ald3.7 \
	         $(RDXBINPATH)/aldr \
	         $(RDXTOOLPATH)/Blif2rdx/blif2rdx \
	         $(RDXTOOLPATH)/Blif2rdx/blif2typ \
	         $(RDXTOOLPATH)/Dtcv/cvcoerc \
	         $(RDXTOOLPATH)/Dtcv/dtcv \
	         $(RDXTOOLPATH)/Dtcv/dtcvdir \
	         $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering \
	         $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering_old \
	         $(RDXTOOLPATH)/Kwic/kwic \
	         $(RDXBINPATH)/mhead \
	         $(RDXTOOLPATH)/Dtcv/mksrt \
	         $(RDXBINPATH)/regrep \
	         $(RDXBINPATH)/rglobs \
	         $(RDXBINPATH)/rgrep \
	         $(RDXBINPATH)/rhead \
	         $(RDXBINPATH)/rincl \
	         $(RDXBINPATH)/rkwic \
	         $(RDXTOOLPATH)/Dtcv/rmcomm \
	         $(RDXBINPATH)/start_redux \
	         $(RDXBINPATH)/toc \
	         $(RDXBINPATH)/typ2rdx \
	         $(RDXBINPATH)/typ2rdxdir \
	          $(RDXTOOLPATH)/Dtcv/Makefile \
	          $(RDXDEMOPATH)/Makefile \
	          $(RDXITPATH)/Makefile \
	          $(RDXMAKEPATH)/Makefile \
	          $(RDXOLDDEMOPATH)/Makefile; do \
	   if [ -f $$i ]; then cp $$i $$i.bak; fi;\
	done
cleanbackup:
	for i in $(RDXBINPATH)/ald3.7 \
	         $(RDXBINPATH)/aldr \
	         $(RDXTOOLPATH)/Blif2rdx/blif2rdx \
	         $(RDXTOOLPATH)/Blif2rdx/blif2typ \
	         $(RDXTOOLPATH)/Dtcv/cvcoerc \
	         $(RDXTOOLPATH)/Dtcv/dtcv \
	         $(RDXTOOLPATH)/Dtcv/dtcvdir \
	         $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering \
	         $(RDXTOOLPATH)/Blif2rdx/GetPathOrdering_old \
	         $(RDXTOOLPATH)/Kwic/kwic \
	         $(RDXBINPATH)/mhead \
	         $(RDXTOOLPATH)/Dtcv/mksrt \
	         $(RDXBINPATH)/regrep \
	         $(RDXBINPATH)/rglobs \
	         $(RDXBINPATH)/rgrep \
	         $(RDXBINPATH)/rhead \
	         $(RDXBINPATH)/rincl \
	         $(RDXBINPATH)/rkwic \
	         $(RDXTOOLPATH)/Dtcv/rmcomm \
	         $(RDXBINPATH)/start_redux \
	         $(RDXBINPATH)/toc \
	         $(RDXBINPATH)/typ2rdx \
	         $(RDXBINPATH)/typ2rdxdir \
	          $(RDXTOOLPATH)/Dtcv/Makefile \
	          $(RDXDEMOPATH)/Makefile \
	          $(RDXITPATH)/Makefile \
	          $(RDXMAKEPATH)/Makefile \
	          $(RDXOLDDEMOPATH)/Makefile; do \
	   rm -f $$i.bak; \
	done

$(RDXBINPATH)/ald3.7: $(RDXPROTOPATH)/ald3.7.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/aldr: $(RDXPROTOPATH)/aldr.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Blif2rdx/blif2rdx: $(RDXPROTOPATH)/blif2rdx.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Blif2rdx/blif2typ: $(RDXPROTOPATH)/blif2typ.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Dtcv/cvcoerc: $(RDXPROTOPATH)/cvcoerc.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Dtcv/dtcv: $(RDXPROTOPATH)/dtcv.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Dtcv/dtcvdir: $(RDXPROTOPATH)/dtcvdir.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Blif2rdx/GetPathOrdering: $(RDXPROTOPATH)/GetPathOrdering.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Blif2rdx/GetPathOrdering_old: $(RDXPROTOPATH)/GetPathOrdering_old.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Kwic/kwic: $(RDXPROTOPATH)/kwic.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Dtcv/mksrt: $(RDXPROTOPATH)/mksrt.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/mhead: $(RDXPROTOPATH)/mhead.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/regrep: $(RDXPROTOPATH)/regrep.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/rglobs: $(RDXPROTOPATH)/rglobs.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/rgrep: $(RDXPROTOPATH)/rgrep.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/rhead: $(RDXPROTOPATH)/rhead.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/rincl: $(RDXPROTOPATH)/rincl.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/rkwic: $(RDXPROTOPATH)/rkwic.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Dtcv/rmcomm: $(RDXPROTOPATH)/rmcomm.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@

$(RDXBINPATH)/start_redux: $(RDXPROTOPATH)/start_redux.proto
	sed -e 's!setenv REDUX REDUX!setenv REDUX $(RDXPATH)!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@
	chmod a-x $@
$(RDXBINPATH)/toc: $(RDXPROTOPATH)/toc.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/typ2rdx: $(RDXPROTOPATH)/typ2rdx.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXBINPATH)/typ2rdxdir: $(RDXPROTOPATH)/typ2rdxdir.proto
	sed -e '/ALDES=ALDES/s!=ALDES!="$(ALDESPATH)"!' \
	    -e '/AMODULES=AMODULES/s!=AMODULES!="$(AMODULES)"!' \
	    -e '1s|^#!AWK|#!$(AWK)|' \
	    -e '/AWK=AWK/s!=AWK!="$(AWK)"!' \
	    -e '/BE=BE/s!=BE!="$(BE)"!' \
	    -e '/CPP=CPP/s!=CPP!="$(CPP)"!' \
	    -e '/BEO=BEO/s!=BEO!="$(BEO)"!' \
	    -e '/CMODULES=CMODULES/s!=CMODULES!="$(CMODULES)"!' \
	    -e '/DPQR=DPQR/s!=DPQR!="$(DPQR)"!' \
	    -e '/LEXLIB=LEXLIB/s!=LEXLIB!="$(LEXLIB)"!' \
	    -e '/optimize=OPTIMIZE/s!=OPTIMIZE!="$(OPTIMIZE)"!' \
	    -e '/RANLIB_NEEDED=RANLIB_NEEDED/s!=RANLIB_NEEDED!=$(RANLIB_NEEDED)!' \
	    -e '/RDX=RDX/s!=RDX!="$(RDXPATH)"!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@


$(RDXTOOLPATH)/Dtcv/Makefile: $(RDXPROTOPATH)/Dtcv_Makefile.proto
	sed -e '/ALDES = ALDES/s!= ALDES!=$(ALDESPATH)!' \
	    -e '/BE = BE/s!= BE!= $(BE)!' \
	    -e '/BEO = BEO/s!= BEO!= $(BEO)!' \
	    -e '/DPQR = DPQR/s!= DPQR!= $(DPQR)!' \
	    -e '/LEX = LEX/s!= LEX!= $(LEX)!' \
	    -e '/LEXLIB = LEXLIB/s!= LEXLIB!= $(LEXLIB)!' \
	    -e '/OPTIMIZE = OPTIMIZE/s!= OPTIMIZE!= $(OPTIMIZE)!' \
	    -e '/YACC = YACC/s!= YACC!= $(YACC)!' \
	    -e '/YACCFLAGS = YACCFLAGS/s!= YACCFLAGS!= $(YACCFLAGS)!' \
	    -e '/RANLIB_NEEDED = RANLIB_NEEDED/s!= RANLIB_NEEDED!= $(RANLIB_NEEDED)!' \
	    -e '/RDX = RDX/s!= RDX!= $(RDXPATH)!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@
	chmod a-x $@


$(RDXDEMOPATH)/Makefile: $(RDXPROTOPATH)/demo_Makefile.proto
	sed -e '/ALDES = ALDES/s!= ALDES!=$(ALDESPATH)!' \
	    -e '/BE = BE/s!= BE!= $(BE)!' \
	    -e '/BEO = BEO/s!= BEO!= $(BEO)!' \
	    -e '/DPQR = DPQR/s!= DPQR!= $(DPQR)!' \
	    -e '/LEX = LEX/s!= LEX!= $(LEX)!' \
	    -e '/LEXLIB = LEXLIB/s!= LEXLIB!= $(LEXLIB)!' \
	    -e '/OPTIMIZE = OPTIMIZE/s!= OPTIMIZE!= $(OPTIMIZE)!' \
	    -e '/YACC = YACC/s!= YACC!= $(YACC)!' \
	    -e '/YACCFLAGS = YACCFLAGS/s!= YACCFLAGS!= $(YACCFLAGS)!' \
	    -e '/RANLIB_NEEDED = RANLIB_NEEDED/s!= RANLIB_NEEDED!= $(RANLIB_NEEDED)!' \
	    -e '/RDX = RDX/s!= RDX!= $(RDXPATH)!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@
	chmod a-x $@


$(RDXITPATH)/Makefile: $(RDXPROTOPATH)/it_Makefile.proto
	sed -e '/ALDES = ALDES/s!= ALDES!=$(ALDESPATH)!' \
	    -e '/BE = BE/s!= BE!= $(BE)!' \
	    -e '/BEO = BEO/s!= BEO!= $(BEO)!' \
	    -e '/DPQR = DPQR/s!= DPQR!= $(DPQR)!' \
	    -e '/LEX = LEX/s!= LEX!= $(LEX)!' \
	    -e '/LEXLIB = LEXLIB/s!= LEXLIB!= $(LEXLIB)!' \
	    -e '/OPTIMIZE = OPTIMIZE/s!= OPTIMIZE!= $(OPTIMIZE)!' \
	    -e '/YACC = YACC/s!= YACC!= $(YACC)!' \
	    -e '/YACCFLAGS = YACCFLAGS/s!= YACCFLAGS!= $(YACCFLAGS)!' \
	    -e '/RANLIB_NEEDED = RANLIB_NEEDED/s!= RANLIB_NEEDED!= $(RANLIB_NEEDED)!' \
	    -e '/RDX = RDX/s!= RDX!= $(RDXPATH)!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@
	chmod a-x $@


$(RDXMAKEPATH)/Makefile: $(RDXPROTOPATH)/mak_Makefile.proto
	sed -e '/ALDES = ALDES/s!= ALDES!=$(ALDESPATH)!' \
	    -e '/BE = BE/s!= BE!= $(BE)!' \
	    -e '/BEO = BEO/s!= BEO!= $(BEO)!' \
	    -e '/DPQR = DPQR/s!= DPQR!= $(DPQR)!' \
	    -e '/LEX = LEX/s!= LEX!= $(LEX)!' \
	    -e '/LEXLIB = LEXLIB/s!= LEXLIB!= $(LEXLIB)!' \
	    -e '/OPTIMIZE = OPTIMIZE/s!= OPTIMIZE!= $(OPTIMIZE)!' \
	    -e '/YACC = YACC/s!= YACC!= $(YACC)!' \
	    -e '/YACCFLAGS = YACCFLAGS/s!= YACCFLAGS!= $(YACCFLAGS)!' \
	    -e '/RANLIB_NEEDED = RANLIB_NEEDED/s!= RANLIB_NEEDED!= $(RANLIB_NEEDED)!' \
	    -e '/RDX = RDX/s!= RDX!= $(RDXPATH)!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@
	chmod a-x $@


$(RDXOLDDEMOPATH)/Makefile: $(RDXPROTOPATH)/olddemo_Makefile.proto
	sed -e '/ALDES = ALDES/s!= ALDES!=$(ALDESPATH)!' \
	    -e '/BE = BE/s!= BE!= $(BE)!' \
	    -e '/BEO = BEO/s!= BEO!= $(BEO)!' \
	    -e '/DPQR = DPQR/s!= DPQR!= $(DPQR)!' \
	    -e '/LEX = LEX/s!= LEX!= $(LEX)!' \
	    -e '/LEXLIB = LEXLIB/s!= LEXLIB!= $(LEXLIB)!' \
	    -e '/OPTIMIZE = OPTIMIZE/s!= OPTIMIZE!= $(OPTIMIZE)!' \
	    -e '/YACC = YACC/s!= YACC!= $(YACC)!' \
	    -e '/YACCFLAGS = YACCFLAGS/s!= YACCFLAGS!= $(YACCFLAGS)!' \
	    -e '/RANLIB_NEEDED = RANLIB_NEEDED/s!= RANLIB_NEEDED!= $(RANLIB_NEEDED)!' \
	    -e '/RDX = RDX/s!= RDX!= $(RDXPATH)!' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' $? > $@
	chmod $(FILEPERM) $@
	chmod a-x $@


$(RDXBINPATH)/aglobs: $(RDXTOOLPATH)/Aglobs/aglobs.lex
	$(LEX) -t $? > $@.c
	cd `dirname $@`; $(BE) $(OPTIMIZE) $@.c $(LEXLIB) -o $@
	rm -f $@.c
	chmod $(FILEPERM) $@


$(RDXBINPATH)/asplit: $(RDXTOOLPATH)/Asplit/asplit.lex
	$(LEX) -t $? > $@.c
	cd `dirname $@`; $(BE) $(OPTIMIZE) $@.c $(LEXLIB) -o $@
	rm -f $@.c
	chmod $(FILEPERM) $@


$(RDXBINPATH)/headers: $(RDXTOOLPATH)/Head/headers.lex
	$(LEX) -t $? > $@.c
	cd `dirname $@`; $(BE) $(OPTIMIZE) $@.c $(LEXLIB) -o $@
	rm -f $@.c
	chmod $(FILEPERM) $@


$(RDXIOPATH)/io.C: $(RDXPROTOPATH)/io.C.proto
	sed -e 's/#define CLOCKSCALING CLOCKSCALING/#define CLOCKSCALING $(CLOCKSCALING)/' \
	    -e '/modified by the ReDuX/s/Only to be/The previous line was/' \
	       $? > $@; \
	chmod $(FILEPERM) $@
	chmod a-x $@

